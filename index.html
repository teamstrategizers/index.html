<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flipkart Seller Hub Influencer KPI Dashboard (Mockup)</title>
<style>
:root{--bg:#f6f7fb;--card:#fff;--muted:#6b7280;--accent:#1f2937;--primary:#0b69ff}
*{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#eef2ff)}
.app{max-width:1200px;margin:28px auto;padding:20px}
.banner img {
  height: 100px; /* adjust to match the second screenshot */
  width: auto;  /* keep the natural width */
  object-fit: contain;
  margin-bottom: 16px;
}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.h-title{font-size:20px;font-weight:600;color:var(--accent)}
.controls{display:flex;gap:8px;align-items:center}
.input,select{padding:8px 10px;border-radius:8px;border:1px solid #e6e9ef;background:#fff}
.filters{display:flex;gap:8px;align-items:center}
.summary{display:flex;gap:12px;margin:18px 0}
.card{background:var(--card);padding:12px;border-radius:10px;box-shadow:0 4px 14px rgba(16,24,40,0.06);min-width:130px}
.card strong{display:block;font-size:20px}
.layout{display:grid;grid-template-columns:1fr 360px;gap:16px}
.table-card{background:var(--card);padding:14px;border-radius:10px}
.table{width:100%;border-collapse:collapse}
.thead th{padding:10px 12px;text-align:left;color:var(--muted);font-size:13px;font-weight:600}
.tbody td{padding:12px;border-top:1px solid #f1f4f8;vertical-align:middle}
.influencer{display:flex;gap:10px;align-items:center}
.avatar{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,#f8fafc,#eef2ff);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--primary)}
.kpi{font-weight:700}
.kpi-mini{font-size:13px;color:var(--muted)}
.info-icon{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:50%;background:#eef2ff;color:var(--primary);font-size:12px;margin-left:8px;cursor:default;position:relative}
.tooltip{position:absolute;left:50%;transform:translateX(-50%);bottom:28px;background:#111;color:#fff;padding:8px 10px;border-radius:8px;font-size:12px;white-space:nowrap;display:none;z-index:40}
.info-icon:focus .tooltip,.info-icon:hover .tooltip{display:block}
.chips{display:flex;gap:6px;flex-wrap:wrap}
.chip{padding:6px 8px;background:#f3f4f6;border-radius:999px;font-size:12px;color:#374151}
.right-panel{background:var(--card);padding:14px;border-radius:10px;height:720px;position:sticky;top:20px;overflow:auto}
.side-head{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.side-head h3{margin:0}
.bar-wrap{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.bar{height:18px;border-radius:8px;background:#f1f5f9;overflow:hidden}
.bar > i{display:block;height:100%;background:linear-gradient(90deg,#7dd3fc,#60a5fa)}
.empty{color:var(--muted);text-align:center;padding:40px}
.row-hover{cursor:pointer}
.filter-row{display:flex;gap:8px;align-items:center;margin-bottom:10px}
.small{font-size:12px;color:var(--muted)}
.footer-note{margin-top:12px;font-size:12px;color:var(--muted)}
@media (max-width:1000px){.layout{grid-template-columns:1fr}} 
</style>
</head>
<body>
<div class="app">
  <div class="banner">
  <img src="https://ibb.co/xSnbHhc8" /> 
</div>
  <div class="header">
    <div class="h-title">Influencer KPIs  Flipkart Seller Hub</div>
    <div class="controls">
      <input id="search" class="input" placeholder="Search influencer or id" />
      <div class="filters">
        <select id="categoryFilter" class="input">
          <option value="all">All Categories</option>
        </select>
        <select id="contentFilter" class="input">
          <option value="all">All Content Types</option>
          <option value="video">Short / Review Video</option>
          <option value="live">Live Stream</option>
        </select>
        <select id="periodFilter" class="input">
          <option value="30">Last 30 days</option>
          <option value="7">Last 7 days</option>
          <option value="90">Last 90 days</option>
        </select>
      </div>
    </div>
  </div>

  <div class="summary">
    <div class="card"><small class="small">Total influencers</small><strong id="totalInfluencers">-</strong></div>
    <div class="card"><small class="small">Avg CTR</small><strong id="avgCtr">-</strong></div>
    <div class="card"><small class="small">Avg Video→Sale</small><strong id="avgConv">-</strong></div>
    <div class="card"><small class="small">Total Sales</small><strong id="totalSales">-</strong></div>
  </div>

  <div class="layout">
    <div class="table-card">
      <div class="filter-row">
        <div class="chips" id="categoryChips"></div>
      </div>

      <table class="table" role="table">
        <thead class="thead">
          <tr>
            <th>Influencer</th>
            <th>Categories</th>
            <th>Video Views <span class="info-icon" tabindex="0">i<div class="tooltip">Total views on recorded influencer videos for the selected period and filters.</div></span></th>
            <th>Live Views <span class="info-icon" tabindex="0">i<div class="tooltip">Unique viewers during influencer-hosted live streams.</div></span></th>
            <th>Likes <span class="info-icon" tabindex="0">i<div class="tooltip">Total likes on influencer content (video + live) in the selected period.</div></span></th>
            <th>CTR <span class="info-icon" tabindex="0">i<div class="tooltip">% of viewers who clicked product links from influencer content.</div></span></th>
            <th>Video→Sale <span class="info-icon" tabindex="0">i<div class="tooltip">% of video clicks that converted into purchases.</div></span></th>
            <th>ROI <span class="info-icon" tabindex="0">i<div class="tooltip">Revenue generated divided by influencer spend for tracked campaigns.</div></span></th>
          </tr>
        </thead>
        <tbody id="tbody" class="tbody"></tbody>
      </table>

      <div class="footer-note">Tip: click a row to open category-level breakdown in the right panel.</div>
    </div>

    <aside class="right-panel" id="rightPanel">
      <div class="empty" id="emptyPanel">Select an influencer to view breakdown and profile.</div>

      <div id="sideContent" style="display:none">
        <div class="side-head">
          <div class="avatar" id="sideAvatar">A</div>
          <div>
            <h3 id="sideName">Influencer Name</h3>
            <div class="small" id="sideMeta">Followers • past campaigns</div>
          </div>
        </div>

        <div>
          <strong>Category-wise KPIs</strong>
          <div class="bar-wrap" id="categoryBars"></div>
        </div>

        <div style="margin-top:12px">
          <strong>Top performing videos</strong>
          <div id="topVideos" style="margin-top:8px"></div>
        </div>

      </div>

    </aside>
  </div>
</div>

<script>
// Sample dataset. Each influencer has category-specific KPI rows.
const data = [
  {id:1,name:'Influencer A',handle:'@infa',followers:420000,categories:['Electronics'],videoViews:120000,liveViews:35000,likes:18000,ctr:3.2,conv:1.8,roi:2.4,samples:[{cat:'Electronics',videoViews:70000,liveViews:20000,ctr:2.8,conv:1.7,sales:420000},{cat:'Home',videoViews:50000,liveViews:15000,ctr:3.9,conv:2.1,sales:210000}]},
  {id:2,name:'Influencer B',handle:'@infb',followers:250000,categories:['Fashion'],videoViews:90000,liveViews:12000,likes:11000,ctr:2.7,conv:2.1,roi:3.0,samples:[{cat:'Fashion',videoViews:90000,liveViews:12000,ctr:2.7,conv:2.1,sales:540000}]},
  {id:3,name:'Influencer C',handle:'@infc',followers:150000,categories:['Beauty','Home'],videoViews:65000,liveViews:8000,likes:9000,ctr:4.1,conv:3.5,roi:5.1,samples:[{cat:'Beauty',videoViews:30000,liveViews:5000,ctr:4.8,conv:4.0,sales:360000},{cat:'Home',videoViews:35000,liveViews:3000,ctr:3.5,conv:3.0,sales:210000}]},
  {id:4,name:'Influencer D',handle:'@infd',followers:98000,categories:['Electronics','Fashion'],videoViews:42000,liveViews:2000,likes:4200,ctr:2.4,conv:1.2,roi:1.6,samples:[{cat:'Electronics',videoViews:32000,liveViews:1500,ctr:2.1,conv:1.1,sales:80000},{cat:'Fashion',videoViews:10000,liveViews:500,ctr:3.8,conv:2.8,sales:42000}]}
];

const allCategories = Array.from(new Set(data.flatMap(d=>d.categories))).sort();
const tbody = document.getElementById('tbody');
const categoryFilter = document.getElementById('categoryFilter');
const contentFilter = document.getElementById('contentFilter');
const search = document.getElementById('search');
const periodFilter = document.getElementById('periodFilter');
const categoryChips = document.getElementById('categoryChips');
const totalInfluencers = document.getElementById('totalInfluencers');
const avgCtr = document.getElementById('avgCtr');
const avgConv = document.getElementById('avgConv');
const totalSales = document.getElementById('totalSales');

// populate category select and chips
allCategories.forEach(c=>{
  const opt = document.createElement('option'); opt.value=c; opt.textContent=c; categoryFilter.appendChild(opt);
  const chip = document.createElement('div'); chip.className='chip'; chip.textContent=c; categoryChips.appendChild(chip);
});

function renderTable(rows){
  tbody.innerHTML='';
  rows.forEach(r=>{
    const tr = document.createElement('tr'); tr.className='row-hover';
    tr.innerHTML = `
      <td>
        <div class="influencer">
          <div class="avatar">${r.name.split(' ').map(w=>w[0]).slice(0,2).join('')}</div>
          <div>
            <div style="font-weight:700">${r.name}</div>
            <div class="small">${r.handle} • ${r.followers.toLocaleString()} followers</div>
          </div>
        </div>
      </td>
      <td><div class="chips">${r.categories.map(c=>`<span class="chip">${c}</span>`).join('')}</div></td>
      <td><div class="kpi">${r.videoViews.toLocaleString()}</div></td>
      <td><div class="kpi">${r.liveViews.toLocaleString()}</div></td>
      <td><div class="kpi-mini">${r.likes.toLocaleString()}</div></td>
      <td><div class="kpi">${r.ctr}%</div></td>
      <td><div class="kpi">${r.conv}%</div></td>
      <td><div class="kpi">${r.roi}x</div></td>
    `;
    tr.addEventListener('click',()=>openSide(r));
    tbody.appendChild(tr);
  });
}

function numeric(x){return typeof x==='number'?x:parseFloat(x)||0}

function summary(rows){
  totalInfluencers.textContent = rows.length;
  const avgC = (rows.reduce((s,r)=>s+numeric(r.ctr),0)/Math.max(1,rows.length)).toFixed(2)+'%';
  avgCtr.textContent = avgC;
  const avgCv = (rows.reduce((s,r)=>s+numeric(r.conv),0)/Math.max(1,rows.length)).toFixed(2)+'%';
  avgConv.textContent = avgCv;
  const sales = rows.reduce((s,r)=>s + (r.samples?.reduce((ss,sp)=>ss + (sp.sales||0),0) || 0),0);
  totalSales.textContent = sales? '₹' + (sales.toLocaleString()) : '-';
}

function applyFilters(){
  const cat = categoryFilter.value;
  const cont = contentFilter.value;
  const q = search.value.trim().toLowerCase();
  let rows = data.slice();
  if(cat!=='all') rows = rows.filter(r=>r.categories.includes(cat));
  if(cont!=='all'){
    if(cont==='live') rows = rows.filter(r=>r.liveViews>0);
    else rows = rows.filter(r=>r.videoViews>0);
  }
  if(q) rows = rows.filter(r=>r.name.toLowerCase().includes(q) || r.handle.toLowerCase().includes(q) || String(r.id)===q);
  renderTable(rows);
  summary(rows);
  closeSide();
}

categoryFilter.addEventListener('change',applyFilters);
contentFilter.addEventListener('change',applyFilters);
search.addEventListener('input',applyFilters);
periodFilter.addEventListener('change',applyFilters);

// Side panel
const rightPanel = document.getElementById('rightPanel');
const sideContent = document.getElementById('sideContent');
const emptyPanel = document.getElementById('emptyPanel');
const sideAvatar = document.getElementById('sideAvatar');
const sideName = document.getElementById('sideName');
const sideMeta = document.getElementById('sideMeta');
const categoryBars = document.getElementById('categoryBars');
const topVideos = document.getElementById('topVideos');

function openSide(r){
  emptyPanel.style.display='none'; sideContent.style.display='block';
  sideAvatar.textContent = r.name.split(' ').map(w=>w[0]).slice(0,2).join('');
  sideName.textContent = r.name + ' • ' + r.handle;
  sideMeta.textContent = r.followers.toLocaleString() + ' followers • ' + (r.samples?.length || 0) + ' categories';
  categoryBars.innerHTML='';
  const max = Math.max(...r.samples.map(s=>s.videoViews));
  r.samples.forEach(s=>{
    const wrap = document.createElement('div');
    const label = document.createElement('div'); label.textContent = `${s.cat}  ${s.videoViews.toLocaleString()} views • CTR ${s.ctr}% • Conv ${s.conv}% • Sales ₹${(s.sales||0).toLocaleString()}`;
    const bar = document.createElement('div'); bar.className='bar';
    const inner = document.createElement('i'); inner.style.width = Math.round((s.videoViews/max)*100) + '%'; bar.appendChild(inner);
    wrap.appendChild(label); wrap.appendChild(bar); categoryBars.appendChild(wrap);
  });

  topVideos.innerHTML = r.samples.map(s=>`<div style="padding:8px 0;border-bottom:1px dashed #eef2f8"><div style="font-weight:700">${s.cat} featured video</div><div class="small">${Math.round(s.ctr*100)/100}% CTR • ${s.conv}% conv • Sales ₹${(s.sales||0).toLocaleString()}</div></div>`).join('');
}

function closeSide(){ emptyPanel.style.display='block'; sideContent.style.display='none'; }

// initial render
renderTable(data);
summary(data);

</script>
</body>
</html>
